{"openapi":"3.1.0","info":{"title":"Decision Compiler Server","description":"Decision Graph 기반 의사결정 지원 백엔드 서버","version":"0.1.0"},"paths":{"/api/issues/":{"post":{"tags":["issues"],"summary":"Create Issue","description":"이슈 생성 및 DecisionRun 생성\n\n1. Issue 생성\n2. DecisionRun 생성 (PENDING 상태)\n3. run_id 반환 (SSE 스트리밍에 사용)\n\n- X-User-ID 헤더가 있으면 자동으로 submitter_id 설정\n- 없으면 issue_data.submitter_id 사용","operationId":"create_issue_api_issues__post","security":[{"APIKeyHeader":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["issues"],"summary":"List Issues","description":"이슈 목록 조회\n\nArgs:\n    skip: 건너뛸 개수 (페이지네이션)\n    limit: 조회 개수 (최대 100)\n    status: 상태 필터 (PENDING, PROCESSING, DECIDED, ...)\n    my_issues: True면 현재 사용자가 제출한 이슈만 조회\n    user_id: 현재 사용자 ID (X-User-ID 헤더에서 추출)","operationId":"list_issues_api_issues__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"my_issues","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"My Issues"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IssueResponse"},"title":"Response List Issues Api Issues  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/issues/{issue_id}":{"get":{"tags":["issues"],"summary":"Get Issue","description":"이슈 상세 조회","operationId":"get_issue_api_issues__issue_id__get","parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"string","title":"Issue Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/stream/{run_id}":{"get":{"tags":["decisions","decisions"],"summary":"Stream Decision","description":"의사결정 과정 스트리밍 (SSE)\n\n18개 이벤트 순서대로 스트리밍:\n1-4: Initial Decision (F8)\n5-10: 기존 이벤트 (graph, vector, meeting)\n11-14: Risk Review (F13)\n15-17: Owner Assignment (F14)\n18: Decision Card\n\nArgs:\n    run_id: DecisionRun ID\n\nReturns:\n    EventSourceResponse (SSE)","operationId":"stream_decision_api_decisions_stream__run_id__get","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/{card_id}":{"get":{"tags":["approvals"],"summary":"Get Decision Card","description":"Decision Card 상세 조회","operationId":"get_decision_card_api_decisions__card_id__get","parameters":[{"name":"card_id","in":"path","required":true,"schema":{"type":"string","title":"Card Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionCardDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/{card_id}/approve":{"post":{"tags":["approvals"],"summary":"Approve Decision","description":"Decision Card 승인","operationId":"approve_decision_api_decisions__card_id__approve_post","parameters":[{"name":"card_id","in":"path","required":true,"schema":{"type":"string","title":"Card Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApproveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/{card_id}/conditional-approve":{"post":{"tags":["approvals"],"summary":"Conditional Approve Decision","description":"Decision Card 조건부 승인","operationId":"conditional_approve_decision_api_decisions__card_id__conditional_approve_post","parameters":[{"name":"card_id","in":"path","required":true,"schema":{"type":"string","title":"Card Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConditionalApproveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/{card_id}/reject":{"post":{"tags":["approvals"],"summary":"Reject Decision","description":"Decision Card 반려","operationId":"reject_decision_api_decisions__card_id__reject_post","parameters":[{"name":"card_id","in":"path","required":true,"schema":{"type":"string","title":"Card Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/{card_id}/conditions/{index}/met":{"post":{"tags":["approvals"],"summary":"Mark Condition Met","description":"조건 충족 처리","operationId":"mark_condition_met_api_decisions__card_id__conditions__index__met_post","parameters":[{"name":"card_id","in":"path","required":true,"schema":{"type":"string","title":"Card Id"}},{"name":"index","in":"path","required":true,"schema":{"type":"integer","title":"Index"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConditionMetRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/{card_id}/withdraw":{"post":{"tags":["approvals"],"summary":"Withdraw Decision","description":"Decision Card 철회","operationId":"withdraw_decision_api_decisions__card_id__withdraw_post","parameters":[{"name":"card_id","in":"path","required":true,"schema":{"type":"string","title":"Card Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WithdrawRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/audit/logs":{"get":{"tags":["audit"],"summary":"Query Audit Logs","description":"감사 로그 조회","operationId":"query_audit_logs_api_audit_logs_get","parameters":[{"name":"resource_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AuditResourceType"},{"type":"null"}],"title":"Resource Type"}},{"name":"resource_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource Id"}},{"name":"actor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actor Id"}},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AuditEventType"},{"type":"null"}],"title":"Event Type"}},{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AuditLogResponse"},"title":"Response Query Audit Logs Api Audit Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/audit/runs/{run_id}/timeline":{"get":{"tags":["audit"],"summary":"Get Run Timeline","description":"DecisionRun 타임라인 조회","operationId":"get_run_timeline_api_audit_runs__run_id__timeline_get","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AuditLogResponse"},"title":"Response Get Run Timeline Api Audit Runs  Run Id  Timeline Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/audit/persons/{person_id}/metrics":{"get":{"tags":["audit"],"summary":"Get Person Metrics","description":"Person 참여도/성과 메트릭 조회","operationId":"get_person_metrics_api_audit_persons__person_id__metrics_get","parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","title":"Person Id"}},{"name":"period_days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":90,"title":"Period Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Person Metrics Api Audit Persons  Person Id  Metrics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/audit/routing-weights":{"post":{"tags":["audit"],"summary":"Calculate Routing Weights","description":"라우팅 가중치 계산","operationId":"calculate_routing_weights_api_audit_routing_weights_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoutingWeightsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Calculate Routing Weights Api Audit Routing Weights Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/persons/":{"get":{"tags":["persons"],"summary":"List Persons","description":"사용자 목록 조회 (프론트엔드에서 선택용)\n\nArgs:\n    role: 역할 필터 (ENGINEER, PM, FINANCE, AH)\n    db: DB 세션\n\nReturns:\n    Person 목록 (이름순 정렬)","operationId":"list_persons_api_persons__get","parameters":[{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PersonResponse"},"title":"Response List Persons Api Persons  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/persons/me":{"get":{"tags":["persons"],"summary":"Get Current User","description":"현재 사용자 정보 조회\n\n- X-User-ID 헤더 필수\n- 사용자 정보 반환\n\nArgs:\n    user_id: 현재 사용자 ID (헤더에서 추출)\n    db: DB 세션\n\nReturns:\n    현재 사용자 정보\n\nRaises:\n    HTTPException: 사용자를 찾을 수 없음","operationId":"get_current_user_api_persons_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/api/graphs/{run_id}/subgraph":{"get":{"tags":["graphs"],"summary":"Get Subgraph","description":"이슈 기준 서브그래프 반환\n\nArgs:\n    run_id: DecisionRun ID\n    max_nodes: 최대 노드 수 (50~120)\n\nReturns:\n    {\n        \"nodes\": [...],\n        \"edges\": [...],\n        \"highlights\": {...},\n        \"badges\": {...}\n    }","operationId":"get_subgraph_api_graphs__run_id__subgraph_get","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"max_nodes","in":"query","required":false,"schema":{"type":"integer","default":120,"title":"Max Nodes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Subgraph Api Graphs  Run Id  Subgraph Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/graphs/full":{"get":{"tags":["graphs"],"summary":"Get Full Graph","description":"전체 조직 그래프 조회\n\nArgs:\n    node_types: 노드 타입 필터 (Person, Team, Department, Domain)\n    include_relationships: 관계 타입 필터\n    max_nodes: 최대 노드 수 (100~1000, 기본 500)\n    max_edges: 최대 엣지 수 (100~2000, 기본 1000)\n    department: 특정 부서로 필터링\n    team: 특정 팀으로 필터링\n\nReturns:\n    전체 그래프 데이터 (nodes, edges, metadata)","operationId":"get_full_graph_api_graphs_full_get","parameters":[{"name":"node_types","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Node types to include (Person, Team, Department, Domain)","title":"Node Types"},"description":"Node types to include (Person, Team, Department, Domain)"},{"name":"include_relationships","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Relationship types to include","title":"Include Relationships"},"description":"Relationship types to include"},{"name":"max_nodes","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":100,"description":"Maximum number of nodes (100-1000)","default":500,"title":"Max Nodes"},"description":"Maximum number of nodes (100-1000)"},{"name":"max_edges","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":100,"description":"Maximum number of edges (100-2000)","default":1000,"title":"Max Edges"},"description":"Maximum number of edges (100-2000)"},{"name":"department","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by department name","title":"Department"},"description":"Filter by department name"},{"name":"team","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by team name","title":"Team"},"description":"Filter by team name"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FullGraphResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{run_id}":{"post":{"tags":["meetings","meetings"],"summary":"Submit Meeting","description":"회의 메모/발화 입력\n\n- DecisionRun 존재 여부 확인\n- replace_existing=True이면 기존 발화 삭제\n- meeting_notes 저장 (옵션)\n- 발화 목록 저장","operationId":"submit_meeting_api_meetings__run_id__post","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingInput"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingSubmitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/runs/{run_id}/approve":{"post":{"tags":["decisions","decisions"],"summary":"Approve Run","description":"제기자 승인 처리","operationId":"approve_run_api_decisions_runs__run_id__approve_post","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanApproveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/decisions/runs/{run_id}/feedback":{"post":{"tags":["decisions","decisions"],"summary":"Feedback Run","description":"제기자 피드백 처리","operationId":"feedback_run_api_decisions_runs__run_id__feedback_post","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanFeedbackRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/virtual-meetings/generate/{run_id}":{"post":{"tags":["virtual-meetings","Virtual Meetings"],"summary":"Generate Virtual Meeting","description":"가상 마이크로미팅 생성 (SSE 스트리밍)\n\nArgs:\n    run_id: DecisionRun ID\n    request: 가상 회의 요청 (issue_id, participants, meeting_config)\n\nReturns:\n    SSE 스트림 (utterance 이벤트들)","operationId":"generate_virtual_meeting_api_virtual_meetings_generate__run_id__post","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VirtualMeetingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/virtual-meetings/utterances/{run_id}":{"get":{"tags":["virtual-meetings","Virtual Meetings"],"summary":"Get Utterances","description":"특정 DecisionRun의 발화 목록 조회\n\nArgs:\n    run_id: DecisionRun ID\n\nReturns:\n    발화 목록과 메타데이터","operationId":"get_utterances_api_virtual_meetings_utterances__run_id__get","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Utterances Api Virtual Meetings Utterances  Run Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"루트 엔드포인트","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Root  Get"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"헬스체크 엔드포인트 - 모든 서비스 연결 상태 검증","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check Health Get"}}}}}}}},"components":{"schemas":{"ApprovalResponse":{"properties":{"card_id":{"type":"string","title":"Card Id"},"status":{"$ref":"#/components/schemas/ApprovalStatus"},"message":{"type":"string","title":"Message"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"approved_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approved By"}},"type":"object","required":["card_id","status","message"],"title":"ApprovalResponse","description":"승인 응답"},"ApprovalStatus":{"type":"string","enum":["PENDING","APPROVED","CONDITIONALLY_APPROVED","REJECTED","WITHDRAWN"],"title":"ApprovalStatus","description":"승인 상태"},"ApproveRequest":{"properties":{"approver_id":{"type":"string","title":"Approver Id","description":"승인자 ID"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"승인 코멘트"}},"type":"object","required":["approver_id"],"title":"ApproveRequest","description":"승인 요청"},"AuditActorType":{"type":"string","enum":["PERSON","SYSTEM","AGENT"],"title":"AuditActorType","description":"행위자 타입"},"AuditEventType":{"type":"string","enum":["ISSUE_CREATED","ISSUE_UPDATED","RUN_STARTED","RUN_COMPLETED","RUN_FAILED","DECISION_CARD_CREATED","RISK_REVIEW_STARTED","RISK_AGENT_COMPLETED","RISK_REVIEW_COMPLETED","OWNER_SEARCH_STARTED","OWNER_ASSIGNED","CO_REVIEWER_ASSIGNED","APPROVAL_REQUESTED","APPROVED","CONDITIONALLY_APPROVED","REJECTED","WITHDRAWN","CONDITION_MET","COMMENT_ADDED","SYSTEM_ERROR"],"title":"AuditEventType","description":"감사 이벤트 타입"},"AuditLogResponse":{"properties":{"id":{"type":"string","title":"Id"},"event_type":{"$ref":"#/components/schemas/AuditEventType"},"event_timestamp":{"type":"string","format":"date-time","title":"Event Timestamp"},"resource_type":{"$ref":"#/components/schemas/AuditResourceType"},"resource_id":{"type":"string","title":"Resource Id"},"actor_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actor Id"},"actor_type":{"$ref":"#/components/schemas/AuditActorType"},"detail":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Detail"},"run_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Id"},"issue_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issue Id"},"card_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Card Id"}},"type":"object","required":["id","event_type","event_timestamp","resource_type","resource_id","actor_type"],"title":"AuditLogResponse","description":"감사 로그 응답"},"AuditResourceType":{"type":"string","enum":["ISSUE","DECISION_RUN","DECISION_CARD","RISK_FINDING","PERSON","SYSTEM"],"title":"AuditResourceType","description":"감사 리소스 타입"},"BudgetImpact":{"type":"string","enum":["NONE","LOW","MID","HIGH"],"title":"BudgetImpact","description":"예산 영향도"},"ConditionMetRequest":{"properties":{"condition_index":{"type":"integer","minimum":0.0,"title":"Condition Index","description":"충족된 조건 인덱스"},"evidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evidence","description":"충족 근거"}},"type":"object","required":["condition_index"],"title":"ConditionMetRequest","description":"조건 충족 확인 요청"},"ConditionalApproveRequest":{"properties":{"approver_id":{"type":"string","title":"Approver Id","description":"승인자 ID"},"conditions":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Conditions","description":"승인 조건 목록"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"승인 코멘트"}},"type":"object","required":["approver_id","conditions"],"title":"ConditionalApproveRequest","description":"조건부 승인 요청"},"DecisionCardDetailResponse":{"properties":{"id":{"type":"string","title":"Id"},"run_id":{"type":"string","title":"Run Id"},"action":{"type":"string","title":"Action"},"execution_path":{"type":"string","title":"Execution Path"},"risk_tier":{"type":"string","title":"Risk Tier"},"summary":{"type":"string","title":"Summary"},"reasoning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reasoning"},"budget_estimate":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Budget Estimate"},"timeline_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeline Days"},"rollback_conditions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rollback Conditions"},"next_steps":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Next Steps"},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"owner_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Name"},"co_reviewer_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Co Reviewer Ids"},"approval_status":{"$ref":"#/components/schemas/ApprovalStatus"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"approved_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approved By"},"approval_comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approval Comment"},"rejection_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Reason"},"approval_conditions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Approval Conditions"},"conditions_met":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Conditions Met"},"risk_findings_count":{"type":"integer","title":"Risk Findings Count","default":0},"overall_risk_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Overall Risk Score"},"assignment_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignment Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","run_id","action","execution_path","risk_tier","summary","approval_status","created_at","updated_at"],"title":"DecisionCardDetailResponse","description":"Decision Card 상세 응답 (Approval 정보 포함)"},"FullGraphResponse":{"properties":{"nodes":{"items":{"$ref":"#/components/schemas/GraphNode"},"type":"array","title":"Nodes","description":"List of graph nodes"},"edges":{"items":{"$ref":"#/components/schemas/GraphEdge"},"type":"array","title":"Edges","description":"List of graph edges"},"metadata":{"$ref":"#/components/schemas/GraphMetadata","description":"Query metadata and statistics"}},"type":"object","required":["nodes","edges","metadata"],"title":"FullGraphResponse","description":"Response model for full graph query."},"GraphEdge":{"properties":{"source":{"type":"string","title":"Source","description":"Source node ID"},"target":{"type":"string","title":"Target","description":"Target node ID"},"type":{"type":"string","title":"Type","description":"Relationship type"},"properties":{"additionalProperties":true,"type":"object","title":"Properties","description":"Additional edge properties"}},"type":"object","required":["source","target","type"],"title":"GraphEdge","description":"Represents an edge in the graph."},"GraphMetadata":{"properties":{"total_nodes":{"type":"integer","title":"Total Nodes","description":"Total number of nodes in the result"},"total_edges":{"type":"integer","title":"Total Edges","description":"Total number of edges in the result"},"returned_nodes":{"type":"integer","title":"Returned Nodes","description":"Number of nodes returned"},"returned_edges":{"type":"integer","title":"Returned Edges","description":"Number of edges returned"},"node_type_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Node Type Counts","description":"Count of nodes by type"},"edge_type_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Edge Type Counts","description":"Count of edges by type"},"is_truncated":{"type":"boolean","title":"Is Truncated","description":"Whether results were truncated due to limits"}},"type":"object","required":["total_nodes","total_edges","returned_nodes","returned_edges","is_truncated"],"title":"GraphMetadata","description":"Metadata about the graph query results."},"GraphNode":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the node"},"type":{"type":"string","title":"Type","description":"Node type (Person, Team, Department, Domain)"},"name":{"type":"string","title":"Name","description":"Display name of the node"},"properties":{"additionalProperties":true,"type":"object","title":"Properties","description":"Additional node properties"}},"type":"object","required":["id","type","name"],"title":"GraphNode","description":"Represents a node in the graph."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HumanApprovalResponse":{"properties":{"run_id":{"type":"string","title":"Run Id"},"status":{"type":"string","title":"Status"},"feedback_iteration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Feedback Iteration"},"decision_card_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Decision Card Id"}},"type":"object","required":["run_id","status"],"title":"HumanApprovalResponse","description":"HITL 처리 응답"},"HumanApproveRequest":{"properties":{"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"승인 코멘트"}},"type":"object","title":"HumanApproveRequest","description":"제기자 승인 요청"},"HumanFeedbackRequest":{"properties":{"feedback":{"type":"string","minLength":1,"title":"Feedback","description":"피드백 내용"}},"type":"object","required":["feedback"],"title":"HumanFeedbackRequest","description":"제기자 피드백 요청"},"ImpactScope":{"type":"string","enum":["INDIVIDUAL","TEAM","DEPARTMENT","COMPANY","EXTERNAL"],"title":"ImpactScope","description":"영향 범위"},"IssueCreate":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"이슈 전문"},"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title","description":"이슈 제목"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"도메인 태그 목록"},"urgency":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Urgency","description":"긴급도"},"cost_impact":{"anyOf":[{"$ref":"#/components/schemas/BudgetImpact"},{"type":"null"}],"description":"비용 영향도"},"impact_scope":{"anyOf":[{"$ref":"#/components/schemas/ImpactScope"},{"type":"null"}],"description":"영향 범위"},"budget_estimate":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Budget Estimate","description":"예상 비용 (원)"},"timeline_days":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Timeline Days","description":"예상 일정 (일)"},"rollback_possible":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rollback Possible","description":"롤백 가능 여부"},"submitter_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitter Id","description":"제출자 person_id"}},"type":"object","required":["text"],"title":"IssueCreate","description":"이슈 생성 스키마\n\n예: {\"text\": \"결제 UX 변경, 비용 300만원, 일정 하루, 롤백 가능\"}"},"IssueCreateResponse":{"properties":{"issue_id":{"type":"string","title":"Issue Id","description":"생성된 이슈 ID"},"run_id":{"type":"string","title":"Run Id","description":"생성된 DecisionRun ID"},"status":{"type":"string","title":"Status","description":"처리 상태","default":"PENDING"}},"type":"object","required":["issue_id","run_id"],"title":"IssueCreateResponse","description":"이슈 생성 결과 - run_id 포함"},"IssueResponse":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"이슈 전문"},"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title","description":"이슈 제목"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"도메인 태그 목록"},"urgency":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Urgency","description":"긴급도"},"cost_impact":{"anyOf":[{"$ref":"#/components/schemas/BudgetImpact"},{"type":"null"}],"description":"비용 영향도"},"impact_scope":{"anyOf":[{"$ref":"#/components/schemas/ImpactScope"},{"type":"null"}],"description":"영향 범위"},"id":{"type":"string","title":"Id"},"status":{"$ref":"#/components/schemas/IssueStatus"},"risk_tier":{"anyOf":[{"$ref":"#/components/schemas/RiskTier"},{"type":"null"}]},"budget_estimate":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Budget Estimate"},"timeline_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeline Days"},"rollback_possible":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rollback Possible"},"submitter_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitter Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["text","id","status","created_at","updated_at"],"title":"IssueResponse","description":"이슈 응답 스키마"},"IssueStatus":{"type":"string","enum":["PENDING","PROCESSING","DECIDED","EXECUTED","CANCELLED"],"title":"IssueStatus","description":"이슈 처리 상태"},"MeetingConfig":{"properties":{"target_turns":{"type":"integer","maximum":20.0,"minimum":5.0,"title":"Target Turns","description":"목표 대화 턴 수","default":10},"tone":{"type":"string","title":"Tone","description":"회의 톤 (formal/casual/balanced)","default":"balanced"},"conflict_level":{"type":"string","title":"Conflict Level","description":"갈등 수준 (low/medium/high)","default":"medium"}},"type":"object","title":"MeetingConfig","description":"회의 설정"},"MeetingInput":{"properties":{"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"회의 메모 텍스트"},"utterances":{"items":{"$ref":"#/components/schemas/MeetingUtteranceInput"},"type":"array","title":"Utterances","description":"회의 발화 목록"},"replace_existing":{"type":"boolean","title":"Replace Existing","description":"기존 발화를 삭제하고 새로 입력할지 여부","default":false}},"type":"object","title":"MeetingInput","description":"회의 입력"},"MeetingSubmitResponse":{"properties":{"run_id":{"type":"string","title":"Run Id"},"utterance_count":{"type":"integer","title":"Utterance Count"},"notes_saved":{"type":"boolean","title":"Notes Saved"}},"type":"object","required":["run_id","utterance_count","notes_saved"],"title":"MeetingSubmitResponse","description":"회의 입력 결과"},"MeetingUtteranceInput":{"properties":{"turn":{"type":"integer","minimum":1.0,"title":"Turn","description":"발화 순서 (1, 2, 3...)"},"speaker_role":{"type":"string","title":"Speaker Role","description":"발화자 역할"},"text":{"type":"string","minLength":1,"title":"Text","description":"발화 내용"},"perspective":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Perspective","description":"관점 요약"},"speaker_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Speaker Id","description":"발화자 person_id"},"speaker_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Speaker Name","description":"발화자 이름"}},"type":"object","required":["turn","speaker_role","text"],"title":"MeetingUtteranceInput","description":"회의 발화 입력"},"PersonResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"email":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Email"},"role":{"$ref":"#/components/schemas/PersonRole","default":"ENGINEER"},"team":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Team"},"department":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Department"},"id":{"type":"string","title":"Id"},"expertise":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expertise"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","created_at","updated_at"],"title":"PersonResponse","description":"Person 응답 스키마"},"PersonRole":{"type":"string","enum":["ENGINEER","PM","FINANCE","AH"],"title":"PersonRole","description":"조직 내 역할 분류\n\nENGINEER: 엔지니어 (기술 담당)\nPM: 프로덕트 매니저 (제품 담당)\nFINANCE: 재무 담당\nAH: 최종 승인권자 (Approver Head)"},"RejectRequest":{"properties":{"approver_id":{"type":"string","title":"Approver Id","description":"반려자 ID"},"reason":{"type":"string","minLength":1,"title":"Reason","description":"반려 사유 (필수)"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"추가 코멘트"}},"type":"object","required":["approver_id","reason"],"title":"RejectRequest","description":"반려 요청"},"RiskTier":{"type":"string","enum":["LOW","MID","HIGH"],"title":"RiskTier","description":"리스크 등급\n\nLOW: 롤백 가능, 비용 < 500만원, 외부 영향 없음\nMID: 롤백 가능, 비용 < 2000만원, 제한적 외부 영향\nHIGH: 일방향 결정, 외부 영향 존재, 계약/보안/법무 포함"},"RoutingWeightsRequest":{"properties":{"candidate_ids":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Candidate Ids"},"domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"}},"type":"object","required":["candidate_ids"],"title":"RoutingWeightsRequest","description":"라우팅 가중치 계산 요청"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VirtualMeetingRequest":{"properties":{"issue_id":{"type":"string","title":"Issue Id","description":"이슈 ID"},"participants":{"items":{"$ref":"#/components/schemas/VirtualParticipant"},"type":"array","maxItems":6,"minItems":2,"title":"Participants","description":"참가자 목록 (2-6명)"},"meeting_config":{"$ref":"#/components/schemas/MeetingConfig"}},"type":"object","required":["issue_id","participants"],"title":"VirtualMeetingRequest","description":"가상 회의 생성 요청"},"VirtualParticipant":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name","description":"참가자 이름"},"role":{"type":"string","maxLength":50,"title":"Role","description":"참가자 역할 (PM, ENGINEER, SECURITY 등)"},"persona_description":{"type":"string","maxLength":500,"title":"Persona Description","description":"페르소나 설명 (예: 10년차 PM, 보수적 성향)"}},"type":"object","required":["name","role","persona_description"],"title":"VirtualParticipant","description":"가상 회의 참가자"},"WithdrawRequest":{"properties":{"requester_id":{"type":"string","title":"Requester Id","description":"철회 요청자 ID"},"reason":{"type":"string","minLength":1,"title":"Reason","description":"철회 사유"}},"type":"object","required":["requester_id","reason"],"title":"WithdrawRequest","description":"철회 요청"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","description":"사용자 ID (필수)","in":"header","name":"X-User-ID"}}}}